name: Daily OneSignal Push Notification

on:
  schedule:
    # рк░рлЛркЬ ркмрккрлЛрк░рлЗ 2:45 рк╡рк╛ркЧрлНркпрлЗ IST (9:15 UTC)
    - cron: '15 9 * * *'

jobs:
  send-notification:
    runs-on: ubuntu-latest
    steps:
      - name: Send Daily Push Notification
        run: |
          curl -X POST "https://onesignal.com/api/v1/notifications" \
            -H "Authorization: Basic ${{ secrets.ONESIGNAL_REST_KEY }}" \
            -H "Content-Type: application/json" \
            -d '{
              "app_id": "${{ secrets.ONESIGNAL_APP_ID }}",
              "included_segments": ["All"],
              "contents": {"en": "ркмрккрлЛрк░рлЗ 2:45ркирлБркВ рккрлНрк░рлЗрк░ркгрк╛ркжрк╛ркпрлА рк╕ркВркжрлЗрк╢рлЛ! ЁЯМЯ ркЖркЬркирлЛ ркжрк┐рк╡рк╕ рк╡ркзрлБ рккрлНрк░рлЗрк░ркгрк╛ркерлА ркЬрлАрк╡рлЛ.", "gu": "ркмрккрлЛрк░рлЗ 2:45ркирлБркВ рккрлНрк░рлЗрк░ркгрк╛ркжрк╛ркпрлА рк╕ркВркжрлЗрк╢рлЛ! ЁЯМЯ ркЖркЬркирлЛ ркжрк┐рк╡рк╕ рк╡ркзрлБ рккрлНрк░рлЗрк░ркгрк╛ркерлА ркЬрлАрк╡рлЛ."},
              "headings": {"en": "ркжрлИркирк┐ркХ рккрлНрк░рлЗрк░ркгрк╛ тЬи", "gu": "ркжрлИркирк┐ркХ рккрлНрк░рлЗрк░ркгрк╛ тЬи"},
              "small_icon": "ic_stat_onesignal_default",
              "android_accent_color": "FF6200EE"
            }'

      - name: Success Message
        run: echo "тЬЕ 2:45 PM notification sent successfully!"
