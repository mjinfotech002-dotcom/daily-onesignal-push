name: Static Daily OneSignal Push

on:
  schedule:
    - cron: "45 3 * * *"
  workflow_dispatch: {}

jobs:
  send-notification:
    runs-on: ubuntu-latest

    steps:
      - name: Send Daily Push Notification
        run: |
          curl -X POST "https://onesignal.com/api/v1/notifications" \
            -H "Authorization: Basic ${{ secrets.ONESIGNAL_REST_KEY }}" \
            -H "Content-Type: application/json" \
            -d "{
              \"app_id\": \"${{ secrets.ONESIGNAL_APP_ID }}\",
              \"included_segments\": [\"Subscribed Users\"],
              \"headings\": {
                \"en\": \"Daily Inspiration ✨\"
              },
              \"contents\": {
                \"en\": \"Have a great day! This is your static daily notification.\"
              }
            }"

      - name: Done
        run: echo "✔ Static 9:15 AM IST notification sent!"


